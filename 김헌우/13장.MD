# 13장 교착상태

## 13-1) 교착상태란

- 일어나지 않을 기다리며 진행이 멈춰버리는 현상

- 자원 할당 그래프
    - 프로세스가 사용하는 자원 표시 + 어떤 자원이 waiting인지 표시
    - 프로세스는 원, 자원의 종류는 사각형으로 표시
    - 자원의 개수는 점으로 표시
    - 자원 → 프로세스 : 프로세스가 자원 할당 + 사용중 표시
    - 프로세스 → 자원 : 자원을 기다리는 중일때
    - 교착상태 발생 → 자원 할당 그래프가 원의 형태
- 교착상태 발생조건
    - 상호 배제 : 다른 프로세스가 사용 중인 자원에 접근 x
    - 점유와 대기 : 자원을 할당받은 상태에서 다른 자원의 할당을 받기위하여 대기
    - 비선점 : 자원을 강제로 빼앗는 것이 불가능할때
    - 원형 대기 : 프로세스들이 원형으로 자원을 대기
    - 

## 13-2) 교착 상태 해결 방법

- 교착 상태 예방
    - 상호 배제
        - 모든 자원 공유로 예방 but 현실성 x
    - 점유, 대기
        - x시 자원의 활용률 down, 기아현상 발생 가능성 up
    - 비선점 조건
        - 일부 자원에서 효과적, but 범용성이 low
    - 원형 대기 조건
        - 자원 순서대로 할당, 실용적이지만 자원 활용률 down 가능성
- 교착 상태 회피
    - 기본 : 교착 상태 x 정도로만 조금씩 자원 할당
    - 교착상태
        - 한정된 자원의 무분별한 할당으로 인해 발생하는 문제로 간주
    - 안전상태
        - 교착 상태 발생x → 모든 프로세스가 정상적으로 자원을 할당 받고 종료 가능한 상태
        - 안전 순서열 : 교착 상태 x→ 안전하게 자원을 할당할 수 있는 순서를 의미
            - 안전 순서열대로 프로세스들에 자원을 배분 → 교착 상태 x → 안전 상태
    - 불안전 상태
        - 교착 상태 발생 가능성 있는 상황
        - 안전 순서열이 x
- 교착상태 검출 후 회복
    - 교착상태 발생 인정 → 사후에 조치
    - 프로세스가 자원을 요구시 → 할당 + 교착상태 발생여부 주기적 검사 → 교착상태 검출시
        - 선점을 통한 회복 : 교착 상태 해결시까지 한 프로세스씩 자원을 몰아준다
            - 다른 프로세스로부터 자원을 빼앗아 할당
        - 프로세스 강제 종료를 통한 회복
