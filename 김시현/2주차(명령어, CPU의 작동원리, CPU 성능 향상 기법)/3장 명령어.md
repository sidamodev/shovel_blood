# 3장 명령어



### 3-1 소스 코드와 명령어

- 고급언어 : 사람을 위한 언어 ex) C, C++, JAVA, PYTHON

- 저급언어 : 컴퓨터가 직접 이해하고 실행할 수 있는 언어 ex)기계어, 어셈블리어



기계어 - 0110 0011 1001

어셈블리어 - 기계어를 사람이 읽기 편한 형태로 번역한 언어, 한줄마다 명령어 한개

어셈블리어를 보면 기계어가 어떤 단계로 진행되는지 한줄마다 확인하며 추적하기 용이하다.



- 컴파일 언어 : 컴파일러에 의해 소스 코드 전체가 저급 언어로 변환되어 실행되는 고급 언어, 하나의 문법 오류라도 있을시 실행불가 ex) C 언어

- 인터프리터 언어 : 인터프리터에 의해 소스 코드가 한 줄씩 실행되는 고급언어, 오류가 있는 부위 전까지 실행가능.  ex) Python  



##### 컴파일 언어와 인터프리터 언어의 문법 오류 발생시 실행 차이의 이유

###### 목적코드는 컴퓨터가 이해하고 실행할 수 있는 저급 언어인 반면, 인터프리터 언어는 소스 코드 마지막에 이를 때까지 한 줄 한 줄씩 저급 언어로 해석하며 실행해야 하기 때문입니다

ex) 컴파일 언어는 한번에 문법오류가 있는지 확인하고 목적코드로 한번에 번역해 실행하는 반면 인터프리터 언어는 한줄 검사, 한줄 번역, 한줄 실행을 지속적으로 하다보니 시간적으로 오래걸리는 것 같음..!





### 3-2 명령어의 구조

명령어는 연산코드와 오퍼랜드로 이루어져 있습니다.

- 명령어는 연산 코드와 오퍼랜드로 구성되어 있습니다. 
  
  - 연산코드 : 명령어가 수행할 연산
  
  - 오퍼랜드 : 연산에 사용할 데이터 또는 연산에 사용할 데이터가 저장된 위치
  
  - 연산코드는 연산자 오퍼랜드는 피연산자라고 부른다.
  
  - 어셈블리어를 보면  sub     sp, sp, # 16 이런식으로 된 것들을 볼 수 있는데,           sub를 연산 코드 필드 나머지 부위를 오퍼랜드 필드라고 부른다.



###### 오퍼랜드

- 오퍼랜드 위치에는 데이터나 메모리, 레지스터 주소가 오는데 대부분 메모리 주소나 레지스터 주소를 명시한다. 그래서 오퍼랜드 필드를 주소필드로도 부른다. 이러한 주소필드에는 주소값이 없을수도 있고 여러개 있을 수도 있다. 그래서 그 갯수에 따라 0-주소명령어, 1-주소명령어, 2-주소명령어, 3-주소명령어라고 합니다. 



###### 연산코드

연산코드의 유형

1. 데이터 전송            ex) MOVE, STORE, LOAD, PUSH, POP 등

2. 산술/논리 연산       ex) ADD, SUB, MUL, DIV, AND, OR, NOT 등

3. 제어 흐름 변경       ex) JUMP, HALT, CALL, RETURN 등

4. 입출력 제어            ex) READ, WRITE, START IO, TEST IO 등



###### 주소지정방식

오퍼랜드에 데이터가 아닌 주소를 사용하는 이유는 값을 담을 수 있는 경우의 수가 증가하기 때문이다.



- 즉시 주소 지정 방식 
  
  - 오퍼랜드 필드에 연산에 사용할 데이터를 직접 명시하는 방식
  
  - 메모리나 레지스터에 접근하지 않기 때문에 속도에서 빠르다.
  
  - 제한된 오퍼랜드 저장 공간으로 데이터 종류를 방대하게 가져갈 수 없음
  
  

- 직접 주소 지정 방식
  
  - 오퍼랜드 필드에 유효 주소를 직접적으로 명시하는 방식
  
  - 데이터를 적는것보다 표현 데이터가 많아 졌지만 여전히 유효 주소를 표현할 수 있는 범위가 연산 코드의 비트 수만큼 줄어들었습니다.
  
  - 즉 표현할 수 있는 오퍼랜드 필드의 길이가 연산 코드의 길이만큼 짧아져 표현할 수 있는 유효 주소에 제한이 생길 수 있다.
  
  

- 간접 주소 지정 방식
  
  - 유효 주소의 주소를 오퍼랜드 필드에 명시하는 방식
  
  - 표현할 수 있는 유효 조소의 범위가 넓어짐
  
  - 두 번의 메모리 접근이 필요해 상대적으로 느림
  
  

- 레지스터 주소 지정 방식
  
  - 오퍼랜드 필드에 연산에 사용할 데이터를 저장한 레지스터 주소 명시하는 방식
  
  - 앞서 직접 주소 지정 방식과 유사
  
  - 하지만 CPU 내부에 있는 레지스터가 외부에 있는 메모리보다 접근 속도가 빠르기 때문에 속도 부분에서 우위를 가짐
  
  

- 레지스터 간접 주소 지정 방식
  
  - 연산에 사용할 데이터를 메모리에 저장하고, 그 주소를 저장한 레지스터를 오퍼랜드 필드에 명시하는 방법
  
  - 레지스터는 메모리보다 접근 속도가 빠르고, 메모리에 접근을 1회여서 간접 주소 지정 방식보다  빠르다.














