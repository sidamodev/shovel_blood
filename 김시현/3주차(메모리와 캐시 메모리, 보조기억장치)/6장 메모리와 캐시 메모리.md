# 6장 메모리와 캐시 메모리



### 6-1 RAM의 특징과 종류

- RAM은 전력 공급이 차단 되면 내용이 사라지는 휘발성 저장 장치이다. 반면 보조기억장치는 전력이 차단되도 내용이 저장되는 비휘발성 저장 장치이다. 

- 이러한 특징으로 보조기억장치에서 RAM이 필요한 정보를 가져온다.

- RAM의 저장공간이 클수록 CPU에서 정보를 가져오는데, 더 빠르게 움직일 수 있다, 하지만 무작정 크다고 빨라지는 것은 아니다...!



- RAM에는 여러 종류가 있다.
  
  - DRAM : 시간이 지나면 저장된 데이터가 점차 사라지는 RAM, 소비 전력이 비교적 낮고, 저렴하고 직접도가 높기에 대용량으로 설계하기 용이하다.  주로 메모리로 사용.
  
  - SRAM : 속도가 상대적으로 빠르고, 시간이 지나도 저장된 데이터가 사라지지 않는다. 물론..! 전력공급 차단되면 정보는 날라감.
  
  - SDRAM : 클럭 신호에 맞추어 CPU와 정보를 주고 받는 RAM. DDR은 두배, DDR2는 4배, DDR3는 8배 빠르다. S는 Single이라는 뜻으로 D는 Double 이라는 뜻이다.



### 6-2 메모리의 주소 공간



###### 물리 주소

- 말 그대로 정보가 실제로 저장된 하드웨어상의 주소를 의미

###### 논리 주소

- 실행 중인 프로그램 각각에서 부여된 0번지부터 시작되는 주소



CPU는 논리 주소를 전달하고 이를 물리주소로 바꾸어서 메모리에 접근한다.

이러한 역할을 (MMU) 메모리 관리 장치라는 하드웨어에 의해 수행됩니다.

MMU는 베이스 레지스터에 저장된 값을 CPU에서 보내는 논리주소와 더하여 메모리에 접근한다.



하지만 베이스레지스터에다가 CPU에서 전달하는 논리주소를 더하면 내가 원하는 메모리범위를 초과하는 일이 발생할 수 있다. 그래서 한계 레지스터라는 것이 존재한다.

###### 한계 레지스터

- 한계 레지스터는 (논리주소 + 베이스레지스터)의 값이 내가 원하는 프로그램의 사이즈를 넘지 않도록 해서 CPU가 원하지 않는 메모리에 접근하는 일이 발생하지 않도록 제어 해준다.





### 6-3 캐시 메모리

###### 저장 장치 계층 구조

1. CPU와 가까운 저장 장치는 빠르고, 멀리 있는 저장 장치느 느리다.

2. 속도가 빠른 저장 장치는 저장 용량이 작고, 가격이 비싸다.

<img title="" src="data:image/png;base64,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" alt="메모리 계층 구조" width="443">



###### 캐시 메모리

- CPU와 메모리 사이에 위치하고, 레지스터보다 용량이 크고 메모리 보다 빠른 SRAM 기반의 저장 장치이다.

- 이러한 캐시는 L1, L2, L3 캐시가 존재한다. 위의 계층구조를 토대로 성능이 이루어진다. L1, L2는 CPU안에 존재하고, L3는 CPU 밖에 존재한다.

- 캐시메모리는 L1, L2, L3 순으로 CPU가 접근한다. 



이러한 방식으로 캐시 메모리에 정보를 저장해놓는데 CPU가 원하는 정보가 있을 경우를 **캐시히트**, 아닌 경우를 **캐시미스**라고 한다.

이러한 정보를 토대로 캐시 적중률을 나타낼수 있는데

캐시 적중률 = 캐시히트횟수 / (캐시히트횟수, 캐시미스횟수)



###### 참조 지역성 원리

1. CPU는 최근에 접근했던 메모리 공간에 다시 접근하려는 경향이 있다.
   
   - 가장 최근에 사용했던 메모리에 자주 접근하는 경향이 있는데 이것을 시간 지역성이라고도 표현한다.

2. CPU는 접근한 메모리 공간 근처를 접근하려는 경향이 있다.
   
   - 만약 특정 프로그램을 실행 중이라면 그 프로그램의 메모리 위치에 접근하려는 경향이 있는데 이러한 것을 공간 지역성이라고도 표현한다.






